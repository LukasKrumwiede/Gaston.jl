<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Usage Notes and FAQ · Gaston.jl</title><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>Gaston.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">Home</a></li><li><span class="toctext">Examples</span><ul><li><a class="toctext" href="../2dplots/">2-D Plots</a></li><li><a class="toctext" href="../3dplots/">3-D Plots</a></li></ul></li><li><a class="toctext" href="../settings/">Settings and Configuration</a></li><li class="current"><a class="toctext" href>Usage Notes and FAQ</a><ul class="internal"><li><a class="toctext" href="#How-to-keep-multiple-plots-(figures)-on-screen-at-a-time?-1">How to keep multiple plots (figures) on screen at a time?</a></li><li><a class="toctext" href="#How-does-Gaston-handle-missing-x-values?-1">How does Gaston handle missing <code>x</code> values?</a></li><li><a class="toctext" href="#I-run-plot-inside-a-for-loop-and-no-plots-are-produced!-(or:-Julia&#39;s-display-system)-1">I run <code>plot</code> inside a <code>for</code> loop and no plots are produced! (or: Julia&#39;s display system)</a></li><li><a class="toctext" href="#How-to-set-the-tics-1">How to set the tics</a></li><li><a class="toctext" href="#Error-handling-1">Error handling</a></li><li><a class="toctext" href="#What-is-Gaston&#39;s-roadmap?-1">What is Gaston&#39;s roadmap?</a></li><li><a class="toctext" href="#Contributing-1">Contributing</a></li></ul></li></ul></nav><article id="docs"><header><nav><ul><li><a href>Usage Notes and FAQ</a></li></ul><a class="edit-page" href="https://github.com/mbaz/Gaston.jl/blob/master/docs/src/notes.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>Usage Notes and FAQ</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="Usage-notes-and-FAQ-1" href="#Usage-notes-and-FAQ-1">Usage notes and FAQ</a></h1><h2><a class="nav-anchor" id="How-to-keep-multiple-plots-(figures)-on-screen-at-a-time?-1" href="#How-to-keep-multiple-plots-(figures)-on-screen-at-a-time?-1">How to keep multiple plots (figures) on screen at a time?</a></h2><p>When using the graphical terminals <code>qt</code>, <code>wxt</code>, <code>aqua</code> (on Mac) or <code>x11</code>, Gaston can keep an unlimited number of &quot;figures&quot; open on screen at the same time. Each figure is identified by a unique handle; handles are integers larger than 0.</p><p>The following commands are provided to help create, select and close figures:</p><ul><li><code>figure()</code>: creates a new figure with the smallest available handle; returns the handle number.</li><li><code>figure(h)</code>: if a figure with handle <code>h</code> exists, select it; otherwise, create it.</li><li><code>closefigure()</code>: close and delete the most recently used figure.</li><li><code>closefigure(h)</code>: close and delete figure with handle <code>h</code>.</li><li><code>closeall()</code>: close all figures.</li></ul><p>All plot commands take a handle as optional argument to indicate the figure where the plot action will be taken. As an example, assume there are three figures with handles <code>1</code>, <code>2</code> and <code>3</code>. Then, the command</p><pre><code class="language-julia">plot!(y, handle=2)</code></pre><p>will append a curve to the figure with handle <code>2</code>.</p><p>Gnuplot provides basic mouse interaction for graphical terminals, like zooming and annotating coordinates. This only works on the active figure, which is either the last figure plotted, or the one selected with a <code>figure(h)</code> command. Continuing the previous example, the <code>plot!</code> command made <code>2</code> the active figure. If mouse interactivity were desired in figure <code>3</code>, then we&#39;d need to run <code>figure(3)</code> to make it active.</p><h2><a class="nav-anchor" id="How-does-Gaston-handle-missing-x-values?-1" href="#How-does-Gaston-handle-missing-x-values?-1">How does Gaston handle missing <code>x</code> values?</a></h2><p>If only one vector <code>y</code> is given, then its indices are used for the <code>x</code> axis.</p><h2><a class="nav-anchor" id="I-run-plot-inside-a-for-loop-and-no-plots-are-produced!-(or:-Julia&#39;s-display-system)-1" href="#I-run-plot-inside-a-for-loop-and-no-plots-are-produced!-(or:-Julia&#39;s-display-system)-1">I run <code>plot</code> inside a <code>for</code> loop and no plots are produced! (or: Julia&#39;s display system)</a></h2><p>Julia separates the calculation of a result from the display of the result (see <a href="https://docs.julialang.org/en/v1/manual/types/#man-custom-pretty-printing-1">custom pretty-printing</a> and <a href="https://docs.julialang.org/en/v1/base/io-network/#Multimedia-I/O-1">multimedia I/O</a> in Julia&#39;s documentation). This mechanism is very powerful; in Gaston, it enables plotting to the REPL, Jupyter, Juno, or in Documenter.jl with just a few lines of code. In other words, plotting is not a side effect of running <code>plot</code>, the way it is in, say, Matlab; rather, a plot is produced when a result of type <code>Gaston.Figure</code> is returned by some code.</p><p>While elegant and powerful, this mechanism can also be surprising if you&#39;re used to side-effect plotting. None of the following code samples display any plots:</p><pre><code class="language-julia">y = rand(20)
plot(y);  # note the final ; suppreses displaying the result</code></pre><pre><code class="language-julia"># nothing is returned by the for loop
for k = 1:5
    plot(k*y)
end</code></pre><pre><code class="language-julia"># function that does not return a figure
function f(y)
    plot(sin.(y))
    println(&quot;Sum = $(sum(y))&quot;)
end</code></pre><p>The common problem in the code samples above is that a figure is never returned; in consequence, no figure is displayed. This can be fixed by making sure your code returns a figure; or alternatively, save the figure in a variable and display it when it is convenient. For example:</p><pre><code class="language-julia">p = Gaston.Figure[]
for k = 1:5
    push!(p, plot(k*y))
end</code></pre><p>Now, <code>p[3]</code> returns the third plot (for example). Another way to force the figure to be rendered is to call <code>display()</code>:</p><pre><code class="language-julia"># all five figures are displayed
closeall()
for k = 1:5
    figure()
    display(plot(k*y))
end</code></pre><h2><a class="nav-anchor" id="How-to-set-the-tics-1" href="#How-to-set-the-tics-1">How to set the tics</a></h2><p>Gnuplot&#39;s tics functionality is flexible and somewhat complex, and I haven&#39;t yet found the best way to expose it. For the moment, tics can be set using the <code>gpcom</code> plot argument; see an example here: <a href="../2dplots/#Bar-plots-1">Bar plots</a>.</p><h2><a class="nav-anchor" id="Error-handling-1" href="#Error-handling-1">Error handling</a></h2><p>Gnuplot&#39;s main drawback, from a usability standpoint, is that it is not a library; it is designed to be used interactively. Gaston simulates a user typing interactive commands in a gnuplot session. Gaston goes to some lengths to prevent providing gnuplot with invalid inputs; however, preventing this completely would require re-implementing gnuplot&#39;s parser in Gaston.</p><p>An example of an error caught by Gaston:</p><pre><code class="language-julia">julia&gt; y = rand(20)
julia&gt; plot(y,plotstyle=&quot;linepoints&quot;)  # missing an &#39;s&#39;

ERROR: DomainError with linepoints:
supported 2-D plotstyles are: [&quot;&quot;, &quot;lines&quot;, &quot;linespoints&quot;, &quot;points&quot;, &quot;impulses&quot;, &quot;boxes&quot;, &quot;errorlines&quot;, &quot;errorbars&quot;, &quot;dots&quot;, &quot;steps&quot;, &quot;fsteps&quot;, &quot;fillsteps&quot;, &quot;financebars&quot;]</code></pre><p>An example of an error returned by gnuplot:</p><pre><code class="language-julia">julia&gt; plot(y,linecolor=&quot;thecolorofsunset&quot;)
┌ Warning: Gnuplot returned an error message:
│
│ gnuplot&gt; plot &#39;/tmp/gaston-cX8CoMqR-10&#39;  i 0 lc rgb &#39;thecolorofsunset&#39; lw 1
│                                                                        ^
│          line 0: unrecognized color name and not a string &quot;#AARRGGBB&quot; or &quot;0xAARRGGBB&quot;
│
│ )
└ @ Gaston gaston_llplot.jl:199</code></pre><p>Gaston does its best effort to read and display any warnings or errors produced by gnuplot, and to recover gracefully. In some corner cases, it might happen that the communication link enters an unforeseen state and a restart is required. Please file a Gaston issue if you experience this.</p><h2><a class="nav-anchor" id="What-is-Gaston&#39;s-roadmap?-1" href="#What-is-Gaston&#39;s-roadmap?-1">What is Gaston&#39;s roadmap?</a></h2><ul><li>Modernize its syntax, using <code>Plots.jl</code> and <code>MakiE</code> as inspiration.</li><li>Support for exporting to TiKZ and/or PGFPlots.</li><li>Expose more of gnuplot&#39;s functionality: tics, quiver plots, etc...</li></ul><h2><a class="nav-anchor" id="Contributing-1" href="#Contributing-1">Contributing</a></h2><p>Issues and pull requests are welcome at <a href="https://github.com/mbaz/Gaston.jl">Gaston&#39;s github page</a></p><footer><hr/><a class="previous" href="../settings/"><span class="direction">Previous</span><span class="title">Settings and Configuration</span></a></footer></article></body></html>
